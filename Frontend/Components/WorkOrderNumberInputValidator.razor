@using Frontend.Entities
@using Microsoft.Extensions.Options
@using Frontend.Config
@inject IOptions<ValidationSettings> Validation

<RadzenLabel Text="WO Number"/>
<RadzenNumeric ShowUpDown="false" style="display: block" Name="woNo" @bind-Value=@Actuator.WorkOrderNumber class="w-100"/>
<RadzenRequiredValidator Component="woNo" Text="WO Number is required" Style="position: absolute"/>
<RadzenRegexValidator Component="woNo" Text=@RegexText Pattern=@RegexPattern Style="position: absolute"/>

@code {
    [Parameter]
    public Actuator Actuator { get; set; }
    public string RegexText { get; private set; }
    public string RegexPattern { get; private set; }
    
    protected override void OnInitialized()
    {
        var length = Validation.Value.WorkOrderNumberLength;
        RegexText = $"WO Number must be {length} digits";
        RegexPattern = $"\\d{{{length}}}";
    }
}